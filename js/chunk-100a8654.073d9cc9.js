(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-100a8654"],{"00ee":function(t,e,r){"use strict";var n=r("b622"),a=n("toStringTag"),s={};s[a]="z",t.exports="[object z]"===String(s)},"0d26":function(t,e,r){"use strict";var n=r("e330"),a=Error,s=n("".replace),c=function(t){return String(new a(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,i=o.test(c);t.exports=function(t,e){if(i&&"string"==typeof t&&!a.prepareStackTrace)while(e--)t=s(t,o,"");return t}},1787:function(t,e,r){"use strict";var n=r("861d");t.exports=function(t){return n(t)||null===t}},"271a":function(t,e,r){"use strict";var n=r("cb2d"),a=r("e330"),s=r("577e"),c=r("d6d6"),o=URLSearchParams,i=o.prototype,u=a(i.getAll),l=a(i.has),b=new o("a=1");!b.has("a",2)&&b.has("a",void 0)||n(i,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=u(this,t);c(e,1);var a=s(r),o=0;while(o<n.length)if(n[o++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2ba4":function(t,e,r){"use strict";var n=r("40d5"),a=Function.prototype,s=a.apply,c=a.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?c.bind(s):function(){return c.apply(s,arguments)})},"3a38":function(t,e,r){"use strict";r("bd6a")},"3bbe":function(t,e,r){"use strict";var n=r("1787"),a=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw new s("Can't set "+a(t)+" as a prototype")}},5494:function(t,e,r){"use strict";var n=r("83ab"),a=r("e330"),s=r("edd0"),c=URLSearchParams.prototype,o=a(c.forEach);n&&!("size"in c)&&s(c,"size",{get:function(){var t=0;return o(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"577e":function(t,e,r){"use strict";var n=r("f5df"),a=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return a(t)}},"6f19":function(t,e,r){"use strict";var n=r("9112"),a=r("0d26"),s=r("b980"),c=Error.captureStackTrace;t.exports=function(t,e,r,o){s&&(c?c(t,e):n(t,"stack",a(r,o)))}},7156:function(t,e,r){"use strict";var n=r("1626"),a=r("861d"),s=r("d2bb");t.exports=function(t,e,r){var c,o;return s&&n(c=e.constructor)&&c!==r&&a(o=c.prototype)&&o!==r.prototype&&s(t,o),t}},7282:function(t,e,r){"use strict";var n=r("e330"),a=r("59ed");t.exports=function(t,e,r){try{return n(a(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(s){}}},"88a7":function(t,e,r){"use strict";var n=r("cb2d"),a=r("e330"),s=r("577e"),c=r("d6d6"),o=URLSearchParams,i=o.prototype,u=a(i.append),l=a(i["delete"]),b=a(i.forEach),g=a([].push),d=new o("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&n(i,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=[];b(this,(function(t,e){g(n,{key:e,value:t})})),c(e,1);var a,o=s(t),i=s(r),d=0,h=0,f=!1,p=n.length;while(d<p)a=n[d++],f||a.key===o?(f=!0,l(this,a.key)):h++;while(h<p)a=n[h++],a.key===o&&a.value===i||u(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},"8b63":function(t,e,r){"use strict";r.r(e);var n=r("7a23");const a={class:"m-5"},s={key:0},c={key:1},o={class:"d-flex justify-content-center"},i={class:"form-row"},u={class:"col-auto"},l={class:"col-auto"},b={class:"col-auto"},g={class:"col-auto align-self-end"},d={class:"mt-3"},h={class:"mt-2"},f={class:"table table-hover table-bordered table-dark"},p={scope:"row"},m={key:0,class:"text-dark",style:{"background-color":"#ea9d06"}},O={key:1},j={key:2,class:"bg-success"},v={key:3},y=["onClick"];function w(t,e,r,w,x,D){const k=Object(n["A"])("PageLoader"),S=Object(n["A"])("router-link");return Object(n["v"])(),Object(n["f"])("div",a,[x.isLoading?(Object(n["v"])(),Object(n["f"])("div",s,[Object(n["j"])(k)])):Object(n["e"])("",!0),x.isLoading?Object(n["e"])("",!0):(Object(n["v"])(),Object(n["f"])("div",c,[Object(n["g"])("form",o,[Object(n["g"])("div",i,[Object(n["g"])("div",u,[e[3]||(e[3]=Object(n["g"])("p",{class:"text-light m-0"},"品番",-1)),Object(n["L"])(Object(n["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>x.searchText=t),list:"partnumberList",type:"text",class:"form-control",name:"searchText",id:"searchText",placeholder:"搜尋番號",value:""},null,512),[[n["H"],x.searchText]]),e[4]||(e[4]=Object(n["g"])("datalist",{id:"partnumberList"},null,-1))]),Object(n["g"])("div",l,[e[5]||(e[5]=Object(n["g"])("p",{class:"text-light m-0"},"開始",-1)),Object(n["L"])(Object(n["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>x.startDate=t),type:"date",class:"form-control",name:"startDate",id:"startDate",value:""},null,512),[[n["H"],x.startDate]])]),Object(n["g"])("div",b,[e[6]||(e[6]=Object(n["g"])("p",{class:"text-light m-0"},"結束",-1)),Object(n["L"])(Object(n["g"])("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>x.endDate=t),type:"date",class:"form-control",name:"endDate",id:"endDate",value:""},null,512),[[n["H"],x.endDate]])]),Object(n["g"])("div",g,[Object(n["j"])(S,{to:{name:"manager-warehousing-histories",query:{searchText:x.searchText,startDate:x.startDate,endDate:x.endDate}},class:"btn btn-primary",role:"button"},{default:Object(n["K"])(()=>e[7]||(e[7]=[Object(n["i"])("搜尋")])),_:1},8,["to"])])])]),Object(n["g"])("div",d,[Object(n["j"])(S,{class:"btn btn-outline-secondary mr-1 mb-1",to:{name:"manager-warehousing-histories"},role:"button"},{default:Object(n["K"])(()=>e[8]||(e[8]=[Object(n["i"])("全部")])),_:1}),(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(x.customers,t=>(Object(n["v"])(),Object(n["d"])(S,{key:t.id,class:"btn btn-outline-secondary mx-1 mb-1",to:{name:"manager-warehousing-histories",query:{customerId:t.id}},role:"button"},{default:Object(n["K"])(()=>[Object(n["i"])(Object(n["D"])(t.name),1)]),_:2},1032,["to"]))),128))]),Object(n["g"])("div",h,[Object(n["g"])("table",f,[e[10]||(e[10]=Object(n["g"])("thead",null,[Object(n["g"])("tr",{class:"table-active",style:{"text-align":"center"}},[Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h4",null,"日期")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h4",null,"品番")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h4",null,"入庫")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h4",null,"出庫")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h4",null,"餘存")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h4",null,"備註")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h4",null,"操作")])])],-1)),Object(n["g"])("tbody",null,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(x.warehousingHistories,t=>(Object(n["v"])(),Object(n["f"])("tr",{key:t.id,style:{"text-align":"center"}},[Object(n["g"])("th",p,Object(n["D"])(t.textCreatedAt),1),Object(n["g"])("td",null,Object(n["D"])(t.PartNumber.name?t.PartNumber.name:t.SubPartNumber.name),1),t.quntityOfWarehousing?(Object(n["v"])(),Object(n["f"])("td",m,Object(n["D"])(t.quntityOfWarehousing),1)):(Object(n["v"])(),Object(n["f"])("td",O,Object(n["D"])(t.quntityOfWarehousing),1)),t.quntityOfShipping?(Object(n["v"])(),Object(n["f"])("td",j,Object(n["D"])(t.quntityOfShipping),1)):(Object(n["v"])(),Object(n["f"])("td",v,Object(n["D"])(t.quntityOfShipping),1)),Object(n["g"])("td",null,Object(n["D"])(t.totalQuntity),1),Object(n["g"])("td",null,Object(n["D"])(t.note),1),Object(n["g"])("td",null,[Object(n["g"])("button",{onClick:Object(n["N"])(e=>D.remvoeItem(t.id),["stop","prevent"]),class:"btn btn-outline-danger btn-sm"},e[9]||(e[9]=[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1)]),8,y)])]))),128))])])])]))])}r("d9e2");var x=r("2fa3"),D=r("be10"),k=r("9f3a"),S={name:"ManagerWarehousingHistories",components:{PageLoader:k["a"]},beforeRouteUpdate(t,e,r){if(t.query.searchText||t.query.startDate||t.query.endDate){const e={searchText:t.query.searchText,startDate:t.query.startDate,endDate:t.query.endDate};return this.fetchSearchWarehousingHistories(e),void r()}const{customerId:n=""}=t.query;this.fetchWarehousingHistories({queryCategoryId:n}),r()},created(){const{customerId:t=""}=this.$route.query;this.fetchWarehousingHistories({queryCategoryId:t})},data(){return{warehousingHistories:[],customers:[],searchText:"",startDate:"",endDate:"",isLoading:!0}},methods:{async fetchWarehousingHistories({queryCategoryId:t}){try{this.isLoading=!0;const e=await D["a"].warehousingHistories.get({customerId:t}),{data:r,status:n,statusText:a}=e,{warehousingHistories:s,customers:c}=r;if("OK"!==a&&200!==n)throw new Error;this.warehousingHistories=s,this.customers=c,this.searchText="",this.startDate="",this.endDate="",this.isLoading=!1}catch(e){x["c"].fire({icon:"error",title:"載入錯誤，請稍後再試。"}),this.isLoading=!1}},async fetchSearchWarehousingHistories(t){try{this.isLoading=!0;const{data:e,status:r,statusText:n}=await D["a"].warehousingHistories.getSearch(t);if("OK"!==n&&200!==r)throw new Error;const{warehousingHistories:a,customers:s}=e;this.warehousingHistories=a,this.customers=s,this.isLoading=!1}catch(e){x["c"].fire({icon:"error",title:"載入錯誤，請稍後再試。"}),this.isLoading=!1}},async remvoeItem(t){try{const e=await x["d"].fire({showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",icon:"warning",title:"確定刪除?",text:"確定後，你將會刪除此部品。",confirmButtonText:"確定"});if(e.value){const{data:e,status:r,statusText:n}=await D["a"].warehousingHistories.delete(t);if("OK"!==n&&200!==r)throw new Error;return x["e"].fire("刪除！",""+e.message,"success"),void(this.warehousingHistories=this.warehousingHistories.filter(e=>e.id!==t))}}catch(e){x["c"].fire({icon:"error",title:"出錯!!無法刪除，請稍後在試"})}}}},_=r("6b0d"),H=r.n(_);const E=H()(S,[["render",w]]);e["default"]=E},"9f3a":function(t,e,r){"use strict";var n=r("7a23");const a={class:"loader-center m-0 p-0 text-white d-flex justify-content-center align-items-center"};function s(t,e,r,s,c,o){return Object(n["v"])(),Object(n["f"])("div",a,e[0]||(e[0]=[Object(n["g"])("div",{class:"loader-ring"},null,-1),Object(n["g"])("span",null,"loading...",-1)]))}var c={},o=(r("3a38"),r("6b0d")),i=r.n(o);const u=i()(c,[["render",s],["__scopeId","data-v-1b592620"]]);e["a"]=u},ab36:function(t,e,r){"use strict";var n=r("861d"),a=r("9112");t.exports=function(t,e){n(e)&&"cause"in e&&a(t,"cause",e.cause)}},aeb0:function(t,e,r){"use strict";var n=r("9bf2").f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},b980:function(t,e,r){"use strict";var n=r("d039"),a=r("5c6c");t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",a(1,7)),7!==t.stack)}))},bd6a:function(t,e,r){},be10:function(t,e,r){"use strict";r("88a7"),r("271a"),r("5494");var n=r("2fa3");e["a"]={customers:{get(){return n["h"].get("/manager/customers")},getDetail(t){return n["h"].get("/manager/customers/"+t)},create(t){return n["h"].post("/manager/customers/create",t)},update({customerId:t,formData:e}){return n["h"].put("/manager/customers/"+t,e)},delete(t){return n["h"].delete("/manager/customers/"+t)}},partNumbers:{get(t){const e=new URLSearchParams(t);return n["h"].get("/manager/partnumbers?"+e.toString())},getOneDetail(t){return n["h"].get("/manager/partnumbers/"+t)},getSearch(t){const e=new URLSearchParams(t);return n["h"].get("/manager/partnumbers/search?"+e.toString())},create(t){return n["h"].post("/manager/partnumber/create",t)},update(t,e){return n["h"].put("/manager/partnumbers/"+t,e)},delete(t){return n["h"].delete("/manager/partnumbers/"+t)}},subPartNumbers:{getOneDetail(t){return n["h"].get("/manager/subpartnumbers/"+t)},update(t,e){return n["h"].put("/manager/subpartnumbers/"+t,e)},delete(t){return n["h"].delete("/manager/subpartnumbers/"+t)}},users:{create(t){return n["h"].post("/manager/users/signup",t)},get(){return n["h"].get("/manager/users")},delete(t){return n["h"].delete("/manager/users/"+t)}},warehousingHistories:{get(t){const e=new URLSearchParams(t);return n["h"].get("/manager/WarehousingHistories?"+e.toString())},getSearch(t){const e=new URLSearchParams(t);return n["h"].get("/manager/WarehousingHistories/search?"+e.toString())},delete(t){return n["h"].delete("/manager/WarehousingHistories/"+t)}},partnerFactories:{getAll(){return n["h"].get("/manager/partner_factories")},create(t){return n["h"].post("/manager/partner_factories/create",t)},delete(t){return n["h"].delete("/manager/partner_factories/"+t)},getOneDetail(t){return n["h"].get("/manager/partner_factories/"+t)},update(t,e){return n["h"].put("/manager/partner_factories/"+t,e)}},productionProcessItems:{getAll(){return n["h"].get("/manager/production_process_items")},create(t){return n["h"].post("/manager/production_process_items/create",t)},delete(t){return n["h"].delete("/manager/production_process_items/"+t)},update(t,e){return n["h"].put("/manager/production_process_items/"+t,e)}}}},d2bb:function(t,e,r){"use strict";var n=r("7282"),a=r("861d"),s=r("1d80"),c=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(o){}return function(r,n){return s(r),c(n),a(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},d6d6:function(t,e,r){"use strict";var n=TypeError;t.exports=function(t,e){if(t<e)throw new n("Not enough arguments");return t}},d9e2:function(t,e,r){"use strict";var n=r("23e7"),a=r("cfe9"),s=r("2ba4"),c=r("e5cb"),o="WebAssembly",i=a[o],u=7!==new Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=c(t,e,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},b=function(t,e){if(i&&i[t]){var r={};r[t]=c(o+"."+t,e,u),n({target:o,stat:!0,constructor:!0,arity:1,forced:u},r)}};l("Error",(function(t){return function(e){return s(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),l("URIError",(function(t){return function(e){return s(t,this,arguments)}})),b("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),b("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),b("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},e391:function(t,e,r){"use strict";var n=r("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},e5cb:function(t,e,r){"use strict";var n=r("d066"),a=r("1a2d"),s=r("9112"),c=r("3a9b"),o=r("d2bb"),i=r("e893"),u=r("aeb0"),l=r("7156"),b=r("e391"),g=r("ab36"),d=r("6f19"),h=r("83ab"),f=r("c430");t.exports=function(t,e,r,p){var m="stackTraceLimit",O=p?2:1,j=t.split("."),v=j[j.length-1],y=n.apply(null,j);if(y){var w=y.prototype;if(!f&&a(w,"cause")&&delete w.cause,!r)return y;var x=n("Error"),D=e((function(t,e){var r=b(p?e:t,void 0),n=p?new y(t):new y;return void 0!==r&&s(n,"message",r),d(n,D,n.stack,2),this&&c(w,this)&&l(n,this,D),arguments.length>O&&g(n,arguments[O]),n}));if(D.prototype=w,"Error"!==v?o?o(D,x):i(D,x,{name:!0}):h&&m in y&&(u(D,y,m),u(D,y,"prepareStackTrace")),i(D,y),!f)try{w.name!==v&&s(w,"name",v),w.constructor=D}catch(k){}return D}}},edd0:function(t,e,r){"use strict";var n=r("13d2"),a=r("9bf2");t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),a.f(t,e,r)}},f5df:function(t,e,r){"use strict";var n=r("00ee"),a=r("1626"),s=r("c6b6"),c=r("b622"),o=c("toStringTag"),i=Object,u="Arguments"===s(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(r){}};t.exports=n?s:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=l(e=i(t),o))?r:u?s(e):"Object"===(n=s(e))&&a(e.callee)?"Arguments":n}}}]);
//# sourceMappingURL=chunk-100a8654.073d9cc9.js.map