(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e97e292"],{"00ee":function(t,e,r){"use strict";var n=r("b622"),a=n("toStringTag"),c={};c[a]="z",t.exports="[object z]"===String(c)},"0d26":function(t,e,r){"use strict";var n=r("e330"),a=Error,c=n("".replace),s=function(t){return String(new a(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,u=o.test(s);t.exports=function(t,e){if(u&&"string"==typeof t&&!a.prepareStackTrace)while(e--)t=c(t,o,"");return t}},1787:function(t,e,r){"use strict";var n=r("861d");t.exports=function(t){return n(t)||null===t}},"271a":function(t,e,r){"use strict";var n=r("cb2d"),a=r("e330"),c=r("577e"),s=r("d6d6"),o=URLSearchParams,u=o.prototype,i=a(u.getAll),l=a(u.has),g=new o("a=1");!g.has("a",2)&&g.has("a",void 0)||n(u,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=i(this,t);s(e,1);var a=c(r),o=0;while(o<n.length)if(n[o++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2ba4":function(t,e,r){"use strict";var n=r("40d5"),a=Function.prototype,c=a.apply,s=a.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(c):function(){return s.apply(c,arguments)})},"3a38":function(t,e,r){"use strict";r("bd6a")},"3bbe":function(t,e,r){"use strict";var n=r("1787"),a=String,c=TypeError;t.exports=function(t){if(n(t))return t;throw new c("Can't set "+a(t)+" as a prototype")}},5494:function(t,e,r){"use strict";var n=r("83ab"),a=r("e330"),c=r("edd0"),s=URLSearchParams.prototype,o=a(s.forEach);n&&!("size"in s)&&c(s,"size",{get:function(){var t=0;return o(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"577e":function(t,e,r){"use strict";var n=r("f5df"),a=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return a(t)}},"6f19":function(t,e,r){"use strict";var n=r("9112"),a=r("0d26"),c=r("b980"),s=Error.captureStackTrace;t.exports=function(t,e,r,o){c&&(s?s(t,e):n(t,"stack",a(r,o)))}},7156:function(t,e,r){"use strict";var n=r("1626"),a=r("861d"),c=r("d2bb");t.exports=function(t,e,r){var s,o;return c&&n(s=e.constructor)&&s!==r&&a(o=s.prototype)&&o!==r.prototype&&c(t,o),t}},7282:function(t,e,r){"use strict";var n=r("e330"),a=r("59ed");t.exports=function(t,e,r){try{return n(a(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(c){}}},"88a7":function(t,e,r){"use strict";var n=r("cb2d"),a=r("e330"),c=r("577e"),s=r("d6d6"),o=URLSearchParams,u=o.prototype,i=a(u.append),l=a(u["delete"]),g=a(u.forEach),d=a([].push),f=new o("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&n(u,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=[];g(this,(function(t,e){d(n,{key:e,value:t})})),s(e,1);var a,o=c(t),u=c(r),f=0,b=0,h=!1,p=n.length;while(f<p)a=n[f++],h||a.key===o?(h=!0,l(this,a.key)):b++;while(b<p)a=n[b++],a.key===o&&a.value===u||i(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},"9f3a":function(t,e,r){"use strict";var n=r("7a23");const a={class:"loader-center m-0 p-0 text-white d-flex justify-content-center align-items-center"};function c(t,e,r,c,s,o){return Object(n["v"])(),Object(n["f"])("div",a,e[0]||(e[0]=[Object(n["g"])("div",{class:"loader-ring"},null,-1),Object(n["g"])("span",null,"loading...",-1)]))}var s={},o=(r("3a38"),r("6b0d")),u=r.n(o);const i=u()(s,[["render",c],["__scopeId","data-v-1b592620"]]);e["a"]=i},ab36:function(t,e,r){"use strict";var n=r("861d"),a=r("9112");t.exports=function(t,e){n(e)&&"cause"in e&&a(t,"cause",e.cause)}},aeb0:function(t,e,r){"use strict";var n=r("9bf2").f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},b31c:function(t,e,r){"use strict";r.r(e);var n=r("7a23");const a={class:"m-5"},c={key:0},s={key:1},o={class:"d-flex justify-content-end mr-3"},u={class:"table table-hover table-striped table-dark"},i={class:"align-middle",scope:"row"},l={class:"align-middle"},g={class:"align-middle"},d={class:"align-middle"},f={class:"align-middle"},b={class:"align-middle"},h={class:"py-1 align-middle"},p=["onClick"];function m(t,e,r,m,v,O){const j=Object(n["A"])("PageLoader"),y=Object(n["A"])("router-link");return Object(n["v"])(),Object(n["f"])("div",a,[v.isLoading?(Object(n["v"])(),Object(n["f"])("div",c,[Object(n["j"])(j)])):Object(n["e"])("",!0),v.isLoading?Object(n["e"])("",!0):(Object(n["v"])(),Object(n["f"])("div",s,[Object(n["g"])("div",o,[Object(n["j"])(y,{to:{name:"manager-users-new"},class:"btn btn-primary btn-lg my-3"},{default:Object(n["K"])(()=>e[0]||(e[0]=[Object(n["i"])("+使用者")])),_:1})]),Object(n["g"])("table",u,[e[2]||(e[2]=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h3",null,"#")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h3",null,"名稱")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h3",null,"isAdmin")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h3",null,"權限等級")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h3",null,"更新日期")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h3",null,"新增日期")]),Object(n["g"])("th",{scope:"col"},[Object(n["g"])("h3",null,"操作")])])],-1)),Object(n["g"])("tbody",null,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(v.users,t=>(Object(n["v"])(),Object(n["f"])("tr",{key:t.id},[Object(n["g"])("td",i,[Object(n["g"])("h4",null,Object(n["D"])(t.id),1)]),Object(n["g"])("td",l,[Object(n["g"])("h4",null,Object(n["D"])(t.name),1)]),Object(n["g"])("td",g,[Object(n["g"])("h4",null,Object(n["D"])(t.isAdmin),1)]),Object(n["g"])("td",d,[Object(n["g"])("h4",null,Object(n["D"])(t.permissionLevel),1)]),Object(n["g"])("td",f,[Object(n["g"])("h4",null,Object(n["D"])(t.updatedAt),1)]),Object(n["g"])("td",b,[Object(n["g"])("h4",null,Object(n["D"])(t.createdAt),1)]),Object(n["g"])("td",h,[Object(n["g"])("button",{onClick:e=>O.deleteUser(t.id,t.name),class:"btn btn-outline-danger btn-lg"},e[1]||(e[1]=[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1)]),8,p)])]))),128))])])]))])}r("d9e2");var v=r("be10"),O=r("9f3a"),j=r("2fa3"),y=r("5502"),w={name:"ManagerCustomers",components:{PageLoader:O["a"]},computed:{...Object(y["b"])(["currentUser"])},created(){this.fetchCustomers()},data(){return{users:[],isLoading:!0}},methods:{async fetchCustomers(){try{this.isLoading=!0;const{data:t,status:e,statusText:r}=await v["a"].users.get();if("OK"!==r&&200!==e)throw new Error;const{users:n}=t;this.users=n,this.isLoading=!1}catch(t){j["c"].fire({icon:"error",title:"載入錯誤，請稍後再試。"}),this.isLoading=!1}},async deleteUser(t,e){try{if(this.currentUser.name===e)throw new Error("不可刪除自己!!");if("root"===e)throw new Error("此為root，不可刪除!!");const r=await j["d"].fire({showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",icon:"warning",title:"確定刪除?",text:`確定後，你將刪除此使用者'${e}'。`,confirmButtonText:"確定"});if(r.value){const{data:e,status:r,statusText:n}=await v["a"].users.delete(t);if("OK"!==n&&200!==r)throw new Error;this.users=this.users.filter(e=>e.id!==t),j["c"].fire({icon:"success",title:e.message})}}catch(r){j["c"].fire({icon:"error",title:r||"錯誤!!請稍後在試!!"})}}}},x=r("6b0d"),_=r.n(x);const k=_()(w,[["render",m]]);e["default"]=k},b980:function(t,e,r){"use strict";var n=r("d039"),a=r("5c6c");t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",a(1,7)),7!==t.stack)}))},bd6a:function(t,e,r){},be10:function(t,e,r){"use strict";r("88a7"),r("271a"),r("5494");var n=r("2fa3");e["a"]={customers:{get(){return n["h"].get("/manager/customers")},getDetail(t){return n["h"].get("/manager/customers/"+t)},create(t){return n["h"].post("/manager/customers/create",t)},update({customerId:t,formData:e}){return n["h"].put("/manager/customers/"+t,e)},delete(t){return n["h"].delete("/manager/customers/"+t)}},partNumbers:{get(t){const e=new URLSearchParams(t);return n["h"].get("/manager/partnumbers?"+e.toString())},getOneDetail(t){return n["h"].get("/manager/partnumbers/"+t)},getSearch(t){const e=new URLSearchParams(t);return n["h"].get("/manager/partnumbers/search?"+e.toString())},create(t){return n["h"].post("/manager/partnumber/create",t)},update(t,e){return n["h"].put("/manager/partnumbers/"+t,e)},delete(t){return n["h"].delete("/manager/partnumbers/"+t)}},subPartNumbers:{getOneDetail(t){return n["h"].get("/manager/subpartnumbers/"+t)},update(t,e){return n["h"].put("/manager/subpartnumbers/"+t,e)},delete(t){return n["h"].delete("/manager/subpartnumbers/"+t)}},users:{create(t){return n["h"].post("/manager/users/signup",t)},get(){return n["h"].get("/manager/users")},delete(t){return n["h"].delete("/manager/users/"+t)}},warehousingHistories:{get(t){const e=new URLSearchParams(t);return n["h"].get("/manager/WarehousingHistories?"+e.toString())},getSearch(t){const e=new URLSearchParams(t);return n["h"].get("/manager/WarehousingHistories/search?"+e.toString())},delete(t){return n["h"].delete("/manager/WarehousingHistories/"+t)}},partnerFactories:{getAll(){return n["h"].get("/manager/partner_factories")},create(t){return n["h"].post("/manager/partner_factories/create",t)},delete(t){return n["h"].delete("/manager/partner_factories/"+t)},getOneDetail(t){return n["h"].get("/manager/partner_factories/"+t)},update(t,e){return n["h"].put("/manager/partner_factories/"+t,e)}},productionProcessItems:{getAll(){return n["h"].get("/manager/production_process_items")},create(t){return n["h"].post("/manager/production_process_items/create",t)},delete(t){return n["h"].delete("/manager/production_process_items/"+t)},update(t,e){return n["h"].put("/manager/production_process_items/"+t,e)}}}},d2bb:function(t,e,r){"use strict";var n=r("7282"),a=r("861d"),c=r("1d80"),s=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(o){}return function(r,n){return c(r),s(n),a(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},d6d6:function(t,e,r){"use strict";var n=TypeError;t.exports=function(t,e){if(t<e)throw new n("Not enough arguments");return t}},d9e2:function(t,e,r){"use strict";var n=r("23e7"),a=r("cfe9"),c=r("2ba4"),s=r("e5cb"),o="WebAssembly",u=a[o],i=7!==new Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=s(t,e,i),n({global:!0,constructor:!0,arity:1,forced:i},r)},g=function(t,e){if(u&&u[t]){var r={};r[t]=s(o+"."+t,e,i),n({target:o,stat:!0,constructor:!0,arity:1,forced:i},r)}};l("Error",(function(t){return function(e){return c(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return c(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return c(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return c(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return c(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return c(t,this,arguments)}})),l("URIError",(function(t){return function(e){return c(t,this,arguments)}})),g("CompileError",(function(t){return function(e){return c(t,this,arguments)}})),g("LinkError",(function(t){return function(e){return c(t,this,arguments)}})),g("RuntimeError",(function(t){return function(e){return c(t,this,arguments)}}))},e391:function(t,e,r){"use strict";var n=r("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},e5cb:function(t,e,r){"use strict";var n=r("d066"),a=r("1a2d"),c=r("9112"),s=r("3a9b"),o=r("d2bb"),u=r("e893"),i=r("aeb0"),l=r("7156"),g=r("e391"),d=r("ab36"),f=r("6f19"),b=r("83ab"),h=r("c430");t.exports=function(t,e,r,p){var m="stackTraceLimit",v=p?2:1,O=t.split("."),j=O[O.length-1],y=n.apply(null,O);if(y){var w=y.prototype;if(!h&&a(w,"cause")&&delete w.cause,!r)return y;var x=n("Error"),_=e((function(t,e){var r=g(p?e:t,void 0),n=p?new y(t):new y;return void 0!==r&&c(n,"message",r),f(n,_,n.stack,2),this&&s(w,this)&&l(n,this,_),arguments.length>v&&d(n,arguments[v]),n}));if(_.prototype=w,"Error"!==j?o?o(_,x):u(_,x,{name:!0}):b&&m in y&&(i(_,y,m),i(_,y,"prepareStackTrace")),u(_,y),!h)try{w.name!==j&&c(w,"name",j),w.constructor=_}catch(k){}return _}}},edd0:function(t,e,r){"use strict";var n=r("13d2"),a=r("9bf2");t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),a.f(t,e,r)}},f5df:function(t,e,r){"use strict";var n=r("00ee"),a=r("1626"),c=r("c6b6"),s=r("b622"),o=s("toStringTag"),u=Object,i="Arguments"===c(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(r){}};t.exports=n?c:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=l(e=u(t),o))?r:i?c(e):"Object"===(n=c(e))&&a(e.callee)?"Arguments":n}}}]);
//# sourceMappingURL=chunk-5e97e292.d9790a70.js.map