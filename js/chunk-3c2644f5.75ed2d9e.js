(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c2644f5"],{"00ee":function(t,e,r){"use strict";var a=r("b622"),n=a("toStringTag"),u={};u[n]="z",t.exports="[object z]"===String(u)},"0d26":function(t,e,r){"use strict";var a=r("e330"),n=Error,u=a("".replace),s=function(t){return String(new n(t).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,o=i.test(s);t.exports=function(t,e){if(o&&"string"==typeof t&&!n.prepareStackTrace)while(e--)t=u(t,i,"");return t}},1787:function(t,e,r){"use strict";var a=r("861d");t.exports=function(t){return a(t)||null===t}},"271a":function(t,e,r){"use strict";var a=r("cb2d"),n=r("e330"),u=r("577e"),s=r("d6d6"),i=URLSearchParams,o=i.prototype,c=n(o.getAll),b=n(o.has),m=new i("a=1");!m.has("a",2)&&m.has("a",void 0)||a(o,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return b(this,t);var a=c(this,t);s(e,1);var n=u(r),i=0;while(i<a.length)if(a[i++]===n)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2ba4":function(t,e,r){"use strict";var a=r("40d5"),n=Function.prototype,u=n.apply,s=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(a?s.bind(u):function(){return s.apply(u,arguments)})},"3bbe":function(t,e,r){"use strict";var a=r("1787"),n=String,u=TypeError;t.exports=function(t){if(a(t))return t;throw new u("Can't set "+n(t)+" as a prototype")}},"3c00":function(t,e,r){"use strict";var a=r("7a23");const n={class:"m-3 pb-3"},u={class:"text-white"},s={class:"form-group"},i=["value"],o={class:"form-group"},c={for:"name"},b={key:0,class:"form-group border border-warning rounded p-2",style:{"background-color":"midnightblue"}},m={class:"row"},l={class:"col"},f={class:"input-group input-group-sm p-0"},p=["value"],d={class:"col"},g={class:"input-group input-group-sm p-0"},h={class:"form-group"},y={class:"form-group"},v={class:"form-group"},P={class:"form-group"},O={class:"d-flex justify-content-end"},j=["disabled"];function N(t,e,r,N,w,k){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",n,[Object(a["g"])("h1",u,Object(a["D"])(r.initialPartNumber.name?"修改部品":"新增部品"),1),Object(a["g"])("form",{onSubmit:e[9]||(e[9]=Object(a["N"])((...t)=>k.handleSubmit&&k.handleSubmit(...t),["stop","prevent"]))},[Object(a["g"])("div",s,[e[10]||(e[10]=Object(a["g"])("label",{for:"exampleFormControlSelect1"},[Object(a["i"])("発注人"),Object(a["g"])("span",{class:"text-danger ml-1",style:{"font-size":"10px"}},"(必填)")],-1)),Object(a["L"])(Object(a["g"])("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>w.belongsToCutomerId=t),class:"form-control",name:"customer",id:"customer"},[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(w.customers,t=>(Object(a["v"])(),Object(a["f"])("option",{key:t.id,value:t.id},Object(a["D"])(t.name),9,i))),128))],512),[[a["G"],w.belongsToCutomerId]])]),Object(a["g"])("div",o,[Object(a["g"])("label",c,[Object(a["i"])(Object(a["D"])(w.subPartNumberCheck?"子部品番號":"部品番號"),1),e[11]||(e[11]=Object(a["g"])("span",{class:"text-danger ml-1",style:{"font-size":"10px"}},"(必填)",-1)),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>w.subPartNumberCheck=t),class:"ml-5 sub-part-check-box",type:"checkbox",name:"",id:"subPartNumberCheck"},null,512),[[a["F"],w.subPartNumberCheck]]),e[12]||(e[12]=Object(a["i"])()),e[13]||(e[13]=Object(a["g"])("label",{for:"subPartNumberCheck",class:"sub-part-check-box-label"},"子部品",-1))]),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>w.newPartNumberData.name=t),type:"text",class:"form-control",name:"name",id:"name",placeholder:""},null,512),[[a["H"],w.newPartNumberData.name]])]),w.subPartNumberCheck?(Object(a["v"])(),Object(a["f"])("div",b,[Object(a["g"])("div",m,[Object(a["g"])("div",l,[e[14]||(e[14]=Object(a["g"])("label",{for:""},[Object(a["i"])("母部品"),Object(a["g"])("span",{class:"text-danger ml-1",style:{"font-size":"10px"}},"(必填)")],-1)),Object(a["g"])("div",f,[Object(a["L"])(Object(a["g"])("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>w.newPartNumberData.affiliatedPartNumber=t),list:"partnumberList",type:"text",class:"custom-select",name:"affiliatedPartNumber",id:"affiliatedPartNumber",placeholder:"番號",value:""},[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(w.partNumbersList,t=>(Object(a["v"])(),Object(a["f"])("option",{key:t.id,value:t.id},Object(a["D"])(t.name),9,p))),128))],512),[[a["G"],w.newPartNumberData.affiliatedPartNumber]])])]),Object(a["g"])("div",d,[e[15]||(e[15]=Object(a["g"])("label",{for:""},[Object(a["i"])("每單位使用量"),Object(a["g"])("span",{class:"text-danger ml-1",style:{"font-size":"10px"}},"(必填)")],-1)),Object(a["g"])("div",g,[Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>w.newPartNumberData.usagePerUnit=t),type:"number",class:"form-control",name:"usagePerUnit",id:"usagePerUnit",value:"1",min:"1"},null,512),[[a["H"],w.newPartNumberData.usagePerUnit]])])])])])):Object(a["e"])("",!0),Object(a["g"])("div",h,[e[16]||(e[16]=Object(a["g"])("label",{for:"unitPrice"},"單價",-1)),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>w.newPartNumberData.unitPrice=t),type:"number",class:"form-control",name:"unitPrice",id:"unitPrice",min:"0",step:"0.01"},null,512),[[a["H"],w.newPartNumberData.unitPrice]])]),Object(a["g"])("div",y,[e[17]||(e[17]=Object(a["g"])("label",{for:"inputCity"},"初設數量",-1)),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>w.newPartNumberData.quantity=t),type:"number",class:"form-control",name:"quantity",id:"quantity",min:"0"},null,512),[[a["H"],w.newPartNumberData.quantity]])]),Object(a["g"])("div",v,[e[18]||(e[18]=Object(a["g"])("label",{for:"inputCity"},"安全數量設定",-1)),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>w.newPartNumberData.safetyStockQuantity=t),type:"number",class:"form-control",name:"safetyStockQuantity",id:"safetyStockQuantity",min:"0"},null,512),[[a["H"],w.newPartNumberData.safetyStockQuantity]])]),Object(a["g"])("div",P,[e[19]||(e[19]=Object(a["g"])("label",{for:"inputCity"},"備註",-1)),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>w.newPartNumberData.commonName=t),type:"text",class:"form-control",name:"commonName",id:"commonName"},null,512),[[a["H"],w.newPartNumberData.commonName]])]),Object(a["g"])("div",O,[Object(a["g"])("button",{type:"submit",class:"btn btn-primary mt-3",disabled:r.isProcessing},Object(a["D"])(r.isProcessing?"處理中...":"送出"),9,j)])],32)],512)),[[a["I"],!w.isLoading]])}r("d9e2");var w=r("2fa3"),k=r("be10"),D={name:"ManagerPartNumberForm",props:{initialPartNumber:{type:Object,default:()=>({affiliatedPartNumber:"",name:"",usagePerUnit:1,unitPrice:0,quantity:0,safetyStockQuantity:0,commonName:""})},isProcessing:{type:Boolean,default:!1}},created(){this.fetchPartNumbers(),this.fetchCustomers(),this.isLoading=!1},data(){return{belongsToCutomerId:"",customers:[],newPartNumberData:{affiliatedPartNumber:"",name:"",usagePerUnit:1,unitPrice:0,quantity:0,safetyStockQuantity:0,commonName:""},partNumbers:[],partNumbersList:[],subPartNumberCheck:!1,isLoading:!0}},methods:{async fetchPartNumbers(){try{const{data:t,status:e,statusText:r}=await k["a"].partNumbers.get();if("OK"!==r&&200!==e)throw new Error;const{partNumbers:a}=t;this.partNumbers=a,this.partNumbersList={...a}}catch(t){w["c"].fire({icon:"error",title:"載入錯誤，請稍後在試!!"})}},async fetchCustomers(){try{const{data:t,status:e,statusText:r}=await k["a"].customers.get();if("OK"!==r&&200!==e)throw new Error;const{customers:a}=t;this.customers=a}catch(t){w["c"].fire({icon:"error",title:"載入錯誤，請稍後在試!!"})}},filterPartNumbersDataList(t){this.partNumbersList=this.partNumbers.filter(e=>e.CustomerId===t),this.partNumbersList=this.partNumbersList.filter(t=>t.name!==this.newPartNumberData.name)},handleSubmit(t){if(!this.belongsToCutomerId||!this.newPartNumberData.name)return void w["b"].fire({icon:"warning",title:"必填項目請填寫完整"});if(this.subPartNumberCheck&&!this.newPartNumberData.affiliatedPartNumber||this.subPartNumberCheck&&!this.newPartNumberData.usagePerUnit)return void w["b"].fire({icon:"warning",title:"必填項目請填寫完整"});const e=t.target,r=new FormData(e);this.$emit("after-submit",r)}},watch:{belongsToCutomerId(t){this.filterPartNumbersDataList(t)},subPartNumberCheck(){this.filterPartNumbersDataList(this.belongsToCutomerId)},initialPartNumber(t){this.belongsToCutomerId=t.customerId,this.newPartNumberData.name=t.name,this.newPartNumberData.affiliatedPartNumber=t.PartNumberId,this.newPartNumberData.usagePerUnit=t.usagePerUnit,this.newPartNumberData.unitPrice=t.unitPrice,this.newPartNumberData.quantity=t.quantity,this.newPartNumberData.safetyStockQuantity=t.safetyStockQuantity,this.newPartNumberData.commonName=t.commonName,this.subPartNumberCheck=t.isSubPartNumber}}},x=(r("df39"),r("6b0d")),S=r.n(x);const L=S()(D,[["render",N],["__scopeId","data-v-7e470111"]]);e["a"]=L},5494:function(t,e,r){"use strict";var a=r("83ab"),n=r("e330"),u=r("edd0"),s=URLSearchParams.prototype,i=n(s.forEach);a&&!("size"in s)&&u(s,"size",{get:function(){var t=0;return i(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"577e":function(t,e,r){"use strict";var a=r("f5df"),n=String;t.exports=function(t){if("Symbol"===a(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},"672a":function(t,e,r){},"6f19":function(t,e,r){"use strict";var a=r("9112"),n=r("0d26"),u=r("b980"),s=Error.captureStackTrace;t.exports=function(t,e,r,i){u&&(s?s(t,e):a(t,"stack",n(r,i)))}},7156:function(t,e,r){"use strict";var a=r("1626"),n=r("861d"),u=r("d2bb");t.exports=function(t,e,r){var s,i;return u&&a(s=e.constructor)&&s!==r&&n(i=s.prototype)&&i!==r.prototype&&u(t,i),t}},7282:function(t,e,r){"use strict";var a=r("e330"),n=r("59ed");t.exports=function(t,e,r){try{return a(n(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(u){}}},"88a7":function(t,e,r){"use strict";var a=r("cb2d"),n=r("e330"),u=r("577e"),s=r("d6d6"),i=URLSearchParams,o=i.prototype,c=n(o.append),b=n(o["delete"]),m=n(o.forEach),l=n([].push),f=new i("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&a(o,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return b(this,t);var a=[];m(this,(function(t,e){l(a,{key:e,value:t})})),s(e,1);var n,i=u(t),o=u(r),f=0,p=0,d=!1,g=a.length;while(f<g)n=a[f++],d||n.key===i?(d=!0,b(this,n.key)):p++;while(p<g)n=a[p++],n.key===i&&n.value===o||c(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},ab36:function(t,e,r){"use strict";var a=r("861d"),n=r("9112");t.exports=function(t,e){a(e)&&"cause"in e&&n(t,"cause",e.cause)}},aeb0:function(t,e,r){"use strict";var a=r("9bf2").f;t.exports=function(t,e,r){r in t||a(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},b980:function(t,e,r){"use strict";var a=r("d039"),n=r("5c6c");t.exports=!a((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",n(1,7)),7!==t.stack)}))},be10:function(t,e,r){"use strict";r("88a7"),r("271a"),r("5494");var a=r("2fa3");e["a"]={customers:{get(){return a["h"].get("/manager/customers")},getDetail(t){return a["h"].get("/manager/customers/"+t)},create(t){return a["h"].post("/manager/customers/create",t)},update({customerId:t,formData:e}){return a["h"].put("/manager/customers/"+t,e)},delete(t){return a["h"].delete("/manager/customers/"+t)}},partNumbers:{get(t){const e=new URLSearchParams(t);return a["h"].get("/manager/partnumbers?"+e.toString())},getOneDetail(t){return a["h"].get("/manager/partnumbers/"+t)},getSearch(t){const e=new URLSearchParams(t);return a["h"].get("/manager/partnumbers/search?"+e.toString())},create(t){return a["h"].post("/manager/partnumber/create",t)},update(t,e){return a["h"].put("/manager/partnumbers/"+t,e)},delete(t){return a["h"].delete("/manager/partnumbers/"+t)}},subPartNumbers:{getOneDetail(t){return a["h"].get("/manager/subpartnumbers/"+t)},update(t,e){return a["h"].put("/manager/subpartnumbers/"+t,e)},delete(t){return a["h"].delete("/manager/subpartnumbers/"+t)}},users:{create(t){return a["h"].post("/manager/users/signup",t)},get(){return a["h"].get("/manager/users")},delete(t){return a["h"].delete("/manager/users/"+t)}},warehousingHistories:{get(t){const e=new URLSearchParams(t);return a["h"].get("/manager/WarehousingHistories?"+e.toString())},getSearch(t){const e=new URLSearchParams(t);return a["h"].get("/manager/WarehousingHistories/search?"+e.toString())},delete(t){return a["h"].delete("/manager/WarehousingHistories/"+t)}},partnerFactories:{getAll(){return a["h"].get("/manager/partner_factories")},create(t){return a["h"].post("/manager/partner_factories/create",t)},delete(t){return a["h"].delete("/manager/partner_factories/"+t)},getOneDetail(t){return a["h"].get("/manager/partner_factories/"+t)},update(t,e){return a["h"].put("/manager/partner_factories/"+t,e)}},productionProcessItems:{getAll(){return a["h"].get("/manager/production_process_items")},create(t){return a["h"].post("/manager/production_process_items/create",t)},delete(t){return a["h"].delete("/manager/production_process_items/"+t)},update(t,e){return a["h"].put("/manager/production_process_items/"+t,e)}}}},d2bb:function(t,e,r){"use strict";var a=r("7282"),n=r("861d"),u=r("1d80"),s=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=a(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(i){}return function(r,a){return u(r),s(a),n(r)?(e?t(r,a):r.__proto__=a,r):r}}():void 0)},d6d6:function(t,e,r){"use strict";var a=TypeError;t.exports=function(t,e){if(t<e)throw new a("Not enough arguments");return t}},d9e2:function(t,e,r){"use strict";var a=r("23e7"),n=r("cfe9"),u=r("2ba4"),s=r("e5cb"),i="WebAssembly",o=n[i],c=7!==new Error("e",{cause:7}).cause,b=function(t,e){var r={};r[t]=s(t,e,c),a({global:!0,constructor:!0,arity:1,forced:c},r)},m=function(t,e){if(o&&o[t]){var r={};r[t]=s(i+"."+t,e,c),a({target:i,stat:!0,constructor:!0,arity:1,forced:c},r)}};b("Error",(function(t){return function(e){return u(t,this,arguments)}})),b("EvalError",(function(t){return function(e){return u(t,this,arguments)}})),b("RangeError",(function(t){return function(e){return u(t,this,arguments)}})),b("ReferenceError",(function(t){return function(e){return u(t,this,arguments)}})),b("SyntaxError",(function(t){return function(e){return u(t,this,arguments)}})),b("TypeError",(function(t){return function(e){return u(t,this,arguments)}})),b("URIError",(function(t){return function(e){return u(t,this,arguments)}})),m("CompileError",(function(t){return function(e){return u(t,this,arguments)}})),m("LinkError",(function(t){return function(e){return u(t,this,arguments)}})),m("RuntimeError",(function(t){return function(e){return u(t,this,arguments)}}))},df39:function(t,e,r){"use strict";r("672a")},e391:function(t,e,r){"use strict";var a=r("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:a(t)}},e5cb:function(t,e,r){"use strict";var a=r("d066"),n=r("1a2d"),u=r("9112"),s=r("3a9b"),i=r("d2bb"),o=r("e893"),c=r("aeb0"),b=r("7156"),m=r("e391"),l=r("ab36"),f=r("6f19"),p=r("83ab"),d=r("c430");t.exports=function(t,e,r,g){var h="stackTraceLimit",y=g?2:1,v=t.split("."),P=v[v.length-1],O=a.apply(null,v);if(O){var j=O.prototype;if(!d&&n(j,"cause")&&delete j.cause,!r)return O;var N=a("Error"),w=e((function(t,e){var r=m(g?e:t,void 0),a=g?new O(t):new O;return void 0!==r&&u(a,"message",r),f(a,w,a.stack,2),this&&s(j,this)&&b(a,this,w),arguments.length>y&&l(a,arguments[y]),a}));if(w.prototype=j,"Error"!==P?i?i(w,N):o(w,N,{name:!0}):p&&h in O&&(c(w,O,h),c(w,O,"prepareStackTrace")),o(w,O),!d)try{j.name!==P&&u(j,"name",P),j.constructor=w}catch(k){}return w}}},edd0:function(t,e,r){"use strict";var a=r("13d2"),n=r("9bf2");t.exports=function(t,e,r){return r.get&&a(r.get,e,{getter:!0}),r.set&&a(r.set,e,{setter:!0}),n.f(t,e,r)}},f5df:function(t,e,r){"use strict";var a=r("00ee"),n=r("1626"),u=r("c6b6"),s=r("b622"),i=s("toStringTag"),o=Object,c="Arguments"===u(function(){return arguments}()),b=function(t,e){try{return t[e]}catch(r){}};t.exports=a?u:function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=b(e=o(t),i))?r:c?u(e):"Object"===(a=u(e))&&n(e.callee)?"Arguments":a}}}]);
//# sourceMappingURL=chunk-3c2644f5.75ed2d9e.js.map