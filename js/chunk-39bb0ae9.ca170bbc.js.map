{"version":3,"sources":["webpack:///./src/views/ManagerPartNumberEdit.vue","webpack:///./src/views/ManagerPartNumberEdit.vue?becb","webpack:///./src/views/ManagerPartNumberEdit.vue?daca"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_ManagerPartNumberForm","onAfterSubmit","$options","handleAfterSubmit","initial-part-number","$data","partNumber","is-processing","isProcessing","name","components","ManagerPartNumberForm","created","this","fetchPartNumber","$route","params","id","data","methods","partNumberId","status","statusText","managerAPI","partNumbers","getOneDetail","Error","isSubPartNumber","error","ToastBottom","fire","icon","title","formData","update","message","$router","push","__exports__","render"],"mappings":"2KACOA,MAAM,2C,gGAAXC,eAEM,MAFNC,EAEM,CADJC,eAA2HC,EAAA,CAAnGC,cAAcC,EAAAC,kBAAoBC,sBAAqBC,EAAAC,WAAaC,gBAAeF,EAAAG,c,8HAQhG,GACbC,KAAM,wBACNC,WAAY,CAAEC,8BACdC,UACEC,KAAKC,gBAAgBD,KAAKE,OAAOC,OAAOC,KAE1CC,OACE,MAAO,CACLZ,WAAY,GACZE,cAAc,IAGlBW,QAAS,CACP,sBAAsBC,GACpB,IACE,MAAM,KAAEF,EAAI,OAAEG,EAAM,WAAEC,SAAqBC,OAAWC,YAAYC,aAAaL,GAC/E,GAAmB,OAAfE,GAAkC,MAAXD,EAAkB,MAAM,IAAIK,MACvD,MAAM,WAAEpB,GAAeY,EACvBL,KAAKP,WAAaA,EAClBO,KAAKP,WAAWqB,iBAAkB,EAClC,MAAOC,GACPC,OAAYC,KAAK,CACfC,KAAM,QACNC,MAAO,kBAIb,wBAAwBC,GACtB,IACEpB,KAAKL,cAAe,EACpB,MAAM,KAAEU,EAAI,WAAEI,EAAU,OAAED,SAAiBE,OAAWC,YAAYU,OAAOrB,KAAKE,OAAOC,OAAOC,GAAIgB,IAC1F,QAAEE,GAAYjB,EACpB,GAAmB,OAAfI,GAAkC,MAAXD,EAAkB,MAAM,IAAIK,MAAMS,GAAoB,eACjFtB,KAAKL,cAAe,EACpBK,KAAKuB,QAAQC,KAAK,CAAE5B,KAAM,yBAC1BoB,OAAYC,KAAK,CACfC,KAAM,UACNC,MAAOd,EAAKiB,UAEd,MAAOP,GACPC,OAAYC,KAAK,CACfC,KAAM,QACNC,MAAOJ,EAAMO,c,iCC7CvB,MAAMG,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf","file":"js/chunk-39bb0ae9.ca170bbc.js","sourcesContent":["<template>\r\n  <div class=\"container container-border bg-dark mt-5\">\r\n    <ManagerPartNumberForm @after-submit=\"handleAfterSubmit\" :initial-part-number=\"partNumber\" :is-processing=\"isProcessing\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ManagerPartNumberForm from '../components/ManagerPartNumberForm.vue';\r\nimport managerAPI from '../apis/managers'\r\nimport { ToastBottom } from '../utils/helpers';\r\nexport default {\r\n  name: 'ManagerPartNumberEdit',\r\n  components: { ManagerPartNumberForm },\r\n  created() {\r\n    this.fetchPartNumber(this.$route.params.id);\r\n  },\r\n  data() {\r\n    return {\r\n      partNumber: {},\r\n      isProcessing: false\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchPartNumber(partNumberId) {\r\n      try {\r\n        const { data, status, statusText } = await managerAPI.partNumbers.getOneDetail(partNumberId)\r\n        if (statusText !== 'OK' && status !== 200) { throw new Error() }\r\n        const { partNumber } = data\r\n        this.partNumber = partNumber\r\n        this.partNumber.isSubPartNumber = false\r\n      } catch (error) {\r\n        ToastBottom.fire({\r\n          icon: 'error',\r\n          title: '載入錯誤，請稍後在試。'\r\n        })\r\n      }\r\n    },\r\n    async handleAfterSubmit(formData) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data, statusText, status } = await managerAPI.partNumbers.update(this.$route.params.id, formData)\r\n        const { message } = data\r\n        if (statusText !== 'OK' && status !== 200) { throw new Error(message ? message : '載入錯誤，請稍後在試。') }\r\n        this.isProcessing = false\r\n        this.$router.push({ name: 'manager-part-numbers' })\r\n        ToastBottom.fire({\r\n          icon: 'success',\r\n          title: data.message\r\n        })\r\n      } catch (error) {\r\n        ToastBottom.fire({\r\n          icon: 'error',\r\n          title: error.message\r\n        })\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container-border {\r\n  border: 5px solid rgb(97, 134, 190);\r\n  border-radius: 20px;\r\n}\r\n</style>","import { render } from \"./ManagerPartNumberEdit.vue?vue&type=template&id=21d6a309&scoped=true\"\nimport script from \"./ManagerPartNumberEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ManagerPartNumberEdit.vue?vue&type=script&lang=js\"\n\nimport \"./ManagerPartNumberEdit.vue?vue&type=style&index=0&id=21d6a309&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\inventory-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21d6a309\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ManagerPartNumberEdit.vue?vue&type=style&index=0&id=21d6a309&scoped=true&lang=css\""],"sourceRoot":""}