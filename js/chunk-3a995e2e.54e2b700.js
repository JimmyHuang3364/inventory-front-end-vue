(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a995e2e"],{"00ee":function(t,e,r){"use strict";var n=r("b622"),s=n("toStringTag"),c={};c[s]="z",t.exports="[object z]"===String(c)},"0c8c":function(t,e,r){"use strict";r.r(e);var n=r("7a23");const s={class:"mt-5 container"},c={key:0},o={key:1},a={class:"mb-2"},i={class:"input-group input-group-sm d-flex align-items-center text_input_box mr-1"},u=["disabled"],d={class:"table table-striped table-dark"},l={scope:"row"},g=["onUpdate:modelValue","onKeydown"],p={key:0,class:"d-flex"},b=["onClick"],f=["onClick"],m={key:1,class:"d-flex"},h=["onClick"],v=["onClick"];function O(t,e,r,O,j,w){const y=Object(n["A"])("PageLoader");return Object(n["v"])(),Object(n["f"])("div",s,[j.isLoading?(Object(n["v"])(),Object(n["f"])("div",c,[Object(n["j"])(y)])):Object(n["e"])("",!0),j.isLoading?Object(n["e"])("",!0):(Object(n["v"])(),Object(n["f"])("div",o,[Object(n["g"])("div",a,[j.isCreate?(Object(n["v"])(),Object(n["f"])("form",{key:0,onSubmit:e[2]||(e[2]=Object(n["N"])((...t)=>w.createProductionProcessItem&&w.createProductionProcessItem(...t),["stop","prevent"])),class:"d-flex justify-content-start"},[e[4]||(e[4]=Object(n["g"])("div",{class:"d-flex align-items-center"},[Object(n["g"])("span",{class:"text-light"},"製程名稱：")],-1)),Object(n["g"])("div",i,[Object(n["L"])(Object(n["g"])("input",{type:"text",class:"form-control",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>j.productionProcessItem.name=t),required:""},null,512),[[n["H"],j.productionProcessItem.name]])]),Object(n["g"])("button",{type:"submit",class:"btn btn-primary",disabled:j.isProcessing},Object(n["D"])(j.isProcessing?"處理中...":"送出"),9,u),Object(n["g"])("button",{onClick:e[1]||(e[1]=Object(n["N"])((...t)=>w.createToggle&&w.createToggle(...t),["stop","prevent"])),type:"button",class:"btn btn-outline-danger ml-1"},"取消")],32)):Object(n["e"])("",!0),j.isCreate?Object(n["e"])("",!0):(Object(n["v"])(),Object(n["f"])("button",{key:1,onClick:e[3]||(e[3]=Object(n["N"])((...t)=>w.createToggle&&w.createToggle(...t),["stop","prevent"])),type:"button",class:"btn btn-outline-light"},"+新增製程"))]),Object(n["g"])("table",d,[e[7]||(e[7]=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",{scope:"col",class:"col_1"},"#"),Object(n["g"])("th",{scope:"col"},"製程名稱"),Object(n["g"])("th",{scope:"col",class:"col_3"},"操作")])],-1)),Object(n["g"])("tbody",null,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(j.productionProcessItems,t=>(Object(n["v"])(),Object(n["f"])("tr",{key:t.id},[Object(n["g"])("th",l,Object(n["D"])(t.id),1),Object(n["g"])("td",null,[Object(n["L"])(Object(n["g"])("div",null,Object(n["D"])(t.processName),513),[[n["I"],!t.isEditing]]),Object(n["L"])(Object(n["g"])("input",{"onUpdate:modelValue":e=>t.processName=e,onKeydown:Object(n["M"])(e=>w.toggleIsEditing(t.id),["esc"]),type:"text",class:"form-control form-control-sm m-auto editing_input",ref_for:!0,ref:t.id,name:"name",id:"name"},null,40,g),[[n["I"],t.isEditing],[n["H"],t.processName]])]),Object(n["g"])("td",null,[t.isEditing?Object(n["e"])("",!0):(Object(n["v"])(),Object(n["f"])("div",p,[Object(n["g"])("button",{onClick:Object(n["N"])(e=>w.toggleIsEditing(t.id),["stop","prevent"]),class:Object(n["q"])(["btn btn-outline-warning btn-sm",[{active:t.isEditing}]])},e[5]||(e[5]=[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-fill",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})],-1)]),10,b),Object(n["g"])("button",{onClick:Object(n["N"])(e=>w.deleteProductionProcessItem(t.id),["stop","prevent"]),class:"btn btn-outline-danger btn-sm ml-2"},e[6]||(e[6]=[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})],-1)]),8,f)])),t.isEditing?(Object(n["v"])(),Object(n["f"])("div",m,[Object(n["g"])("button",{onClick:Object(n["N"])(e=>w.updateProductionProcessItem(t.id,t.processName,t.nameCached),["stop","prevent"]),class:"btn btn-outline-success btn-sm"}," Done ",8,h),Object(n["g"])("button",{onClick:Object(n["N"])(e=>w.cancelIsEditing(t.id),["stop","prevent"]),class:"btn btn-outline-danger btn-sm ml-3"}," Cancel ",8,v)])):Object(n["e"])("",!0)])]))),128))])])]))])}r("d9e2"),r("14d9");var j=r("2fa3"),w=r("9f3a"),y=r("be10"),P={components:{PageLoader:w["a"]},name:"ManagerProductionProcessItems",created(){this.fetchProductionProcessItems(),this.isLoading=!1},data(){return{productionProcessItems:[],productionProcessItem:{name:""},isCreate:!1,isLoading:!0,isProcessing:!1}},methods:{async fetchProductionProcessItems(){try{const{data:t,status:e,statusText:r}=await y["a"].productionProcessItems.getAll();if("OK"!==r&&200!==e)throw new Error;if("success"!==t.status)throw new Error(t.message);this.productionProcessItems=t.productionProcessItems.map(t=>({...t,isEditing:!1,nameCached:""}))}catch(t){j["c"].fire({icon:"error",title:"載入錯誤，請稍後再試。"}),this.isLoading=!1}},async createProductionProcessItem(t){try{if(this.isProcessing=!0,!this.productionProcessItem.name)throw new Error("名稱不可空白");const e=t.target,r=new FormData(e),{data:n}=await y["a"].productionProcessItems.create(r);if("error"===n.status)throw new Error(n.message);n.productionProcessItem={...n.productionProcessItem,isEditing:!1,nameCached:""},this.productionProcessItems.push(n.productionProcessItem),this.productionProcessItem.name="",this.isProcessing=!1,j["c"].fire({icon:"success",title:n.message})}catch(e){j["c"].fire({icon:"error",title:e}),this.isProcessing=!1}},async deleteProductionProcessItem(t){try{const e=await j["d"].fire({showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",icon:"warning",title:"確定刪除?",text:"確定後，你將會刪除此製程。",confirmButtonText:"確定"});if(e.value){const{data:e,statusText:r}=await y["a"].productionProcessItems.delete(t);if("OK"!==r&&200!==status)throw new Error;if("success"!==e.status)throw new Error(e.message);this.productionProcessItems=this.productionProcessItems.filter(e=>e.id!==t),j["e"].fire("刪除！",""+e.message,"success")}}catch(e){j["c"].fire({icon:"error",title:e})}},async updateProductionProcessItem(t,e,r){try{if(e===r)return void this.toggleIsEditing(t);if(""===e)throw new Error("請填入名稱");const{data:n,statusText:s}=await y["a"].productionProcessItems.update(t,{name:e});if("OK"!==s&&200!==status)throw new Error(n.message);if("success"!==n.status)throw new Error(n.message);j["c"].fire({icon:"success",title:n.message}),this.toggleIsEditing(t)}catch(n){j["c"].fire({icon:"error",title:n})}},createToggle(){this.isCreate=!this.isCreate},toggleIsEditing(t){this.productionProcessItems.map(e=>{e.id===t&&(e.isEditing=!e.isEditing,e.nameCached=e.processName),e.id!==t&&(e.isEditing=!1)})},cancelIsEditing(t){this.productionProcessItems.map(e=>{e.id===t&&(e.isEditing=!e.isEditing,e.processName=e.nameCached)})}}},E=(r("627e"),r("6b0d")),I=r.n(E);const x=I()(P,[["render",O],["__scopeId","data-v-67c45c69"]]);e["default"]=x},"0d26":function(t,e,r){"use strict";var n=r("e330"),s=Error,c=n("".replace),o=function(t){return String(new s(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,i=a.test(o);t.exports=function(t,e){if(i&&"string"==typeof t&&!s.prepareStackTrace)while(e--)t=c(t,a,"");return t}},1787:function(t,e,r){"use strict";var n=r("861d");t.exports=function(t){return n(t)||null===t}},"271a":function(t,e,r){"use strict";var n=r("cb2d"),s=r("e330"),c=r("577e"),o=r("d6d6"),a=URLSearchParams,i=a.prototype,u=s(i.getAll),d=s(i.has),l=new a("a=1");!l.has("a",2)&&l.has("a",void 0)||n(i,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return d(this,t);var n=u(this,t);o(e,1);var s=c(r),a=0;while(a<n.length)if(n[a++]===s)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2ba4":function(t,e,r){"use strict";var n=r("40d5"),s=Function.prototype,c=s.apply,o=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(c):function(){return o.apply(c,arguments)})},"3a38":function(t,e,r){"use strict";r("bd6a")},"3bbe":function(t,e,r){"use strict";var n=r("1787"),s=String,c=TypeError;t.exports=function(t){if(n(t))return t;throw new c("Can't set "+s(t)+" as a prototype")}},5494:function(t,e,r){"use strict";var n=r("83ab"),s=r("e330"),c=r("edd0"),o=URLSearchParams.prototype,a=s(o.forEach);n&&!("size"in o)&&c(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"577e":function(t,e,r){"use strict";var n=r("f5df"),s=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return s(t)}},"627e":function(t,e,r){"use strict";r("74c9")},"6f19":function(t,e,r){"use strict";var n=r("9112"),s=r("0d26"),c=r("b980"),o=Error.captureStackTrace;t.exports=function(t,e,r,a){c&&(o?o(t,e):n(t,"stack",s(r,a)))}},7156:function(t,e,r){"use strict";var n=r("1626"),s=r("861d"),c=r("d2bb");t.exports=function(t,e,r){var o,a;return c&&n(o=e.constructor)&&o!==r&&s(a=o.prototype)&&a!==r.prototype&&c(t,a),t}},7282:function(t,e,r){"use strict";var n=r("e330"),s=r("59ed");t.exports=function(t,e,r){try{return n(s(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(c){}}},"74c9":function(t,e,r){},"88a7":function(t,e,r){"use strict";var n=r("cb2d"),s=r("e330"),c=r("577e"),o=r("d6d6"),a=URLSearchParams,i=a.prototype,u=s(i.append),d=s(i["delete"]),l=s(i.forEach),g=s([].push),p=new a("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&n(i,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return d(this,t);var n=[];l(this,(function(t,e){g(n,{key:e,value:t})})),o(e,1);var s,a=c(t),i=c(r),p=0,b=0,f=!1,m=n.length;while(p<m)s=n[p++],f||s.key===a?(f=!0,d(this,s.key)):b++;while(b<m)s=n[b++],s.key===a&&s.value===i||u(this,s.key,s.value)}),{enumerable:!0,unsafe:!0})},"9f3a":function(t,e,r){"use strict";var n=r("7a23");const s={class:"loader-center m-0 p-0 text-white d-flex justify-content-center align-items-center"};function c(t,e,r,c,o,a){return Object(n["v"])(),Object(n["f"])("div",s,e[0]||(e[0]=[Object(n["g"])("div",{class:"loader-ring"},null,-1),Object(n["g"])("span",null,"loading...",-1)]))}var o={},a=(r("3a38"),r("6b0d")),i=r.n(a);const u=i()(o,[["render",c],["__scopeId","data-v-1b592620"]]);e["a"]=u},ab36:function(t,e,r){"use strict";var n=r("861d"),s=r("9112");t.exports=function(t,e){n(e)&&"cause"in e&&s(t,"cause",e.cause)}},aeb0:function(t,e,r){"use strict";var n=r("9bf2").f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},b980:function(t,e,r){"use strict";var n=r("d039"),s=r("5c6c");t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",s(1,7)),7!==t.stack)}))},bd6a:function(t,e,r){},be10:function(t,e,r){"use strict";r("88a7"),r("271a"),r("5494");var n=r("2fa3");e["a"]={customers:{get(){return n["h"].get("/manager/customers")},getDetail(t){return n["h"].get("/manager/customers/"+t)},create(t){return n["h"].post("/manager/customers/create",t)},update({customerId:t,formData:e}){return n["h"].put("/manager/customers/"+t,e)},delete(t){return n["h"].delete("/manager/customers/"+t)}},partNumbers:{get(t){const e=new URLSearchParams(t);return n["h"].get("/manager/partnumbers?"+e.toString())},getOneDetail(t){return n["h"].get("/manager/partnumbers/"+t)},getSearch(t){const e=new URLSearchParams(t);return n["h"].get("/manager/partnumbers/search?"+e.toString())},create(t){return n["h"].post("/manager/partnumber/create",t)},update(t,e){return n["h"].put("/manager/partnumbers/"+t,e)},delete(t){return n["h"].delete("/manager/partnumbers/"+t)}},subPartNumbers:{getOneDetail(t){return n["h"].get("/manager/subpartnumbers/"+t)},update(t,e){return n["h"].put("/manager/subpartnumbers/"+t,e)},delete(t){return n["h"].delete("/manager/subpartnumbers/"+t)}},users:{create(t){return n["h"].post("/manager/users/signup",t)},get(){return n["h"].get("/manager/users")},delete(t){return n["h"].delete("/manager/users/"+t)}},warehousingHistories:{get(t){const e=new URLSearchParams(t);return n["h"].get("/manager/WarehousingHistories?"+e.toString())},getSearch(t){const e=new URLSearchParams(t);return n["h"].get("/manager/WarehousingHistories/search?"+e.toString())},delete(t){return n["h"].delete("/manager/WarehousingHistories/"+t)}},partnerFactories:{getAll(){return n["h"].get("/manager/partner_factories")},create(t){return n["h"].post("/manager/partner_factories/create",t)},delete(t){return n["h"].delete("/manager/partner_factories/"+t)},getOneDetail(t){return n["h"].get("/manager/partner_factories/"+t)},update(t,e){return n["h"].put("/manager/partner_factories/"+t,e)}},productionProcessItems:{getAll(){return n["h"].get("/manager/production_process_items")},create(t){return n["h"].post("/manager/production_process_items/create",t)},delete(t){return n["h"].delete("/manager/production_process_items/"+t)},update(t,e){return n["h"].put("/manager/production_process_items/"+t,e)}}}},d2bb:function(t,e,r){"use strict";var n=r("7282"),s=r("861d"),c=r("1d80"),o=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(a){}return function(r,n){return c(r),o(n),s(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},d6d6:function(t,e,r){"use strict";var n=TypeError;t.exports=function(t,e){if(t<e)throw new n("Not enough arguments");return t}},d9e2:function(t,e,r){"use strict";var n=r("23e7"),s=r("cfe9"),c=r("2ba4"),o=r("e5cb"),a="WebAssembly",i=s[a],u=7!==new Error("e",{cause:7}).cause,d=function(t,e){var r={};r[t]=o(t,e,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},l=function(t,e){if(i&&i[t]){var r={};r[t]=o(a+"."+t,e,u),n({target:a,stat:!0,constructor:!0,arity:1,forced:u},r)}};d("Error",(function(t){return function(e){return c(t,this,arguments)}})),d("EvalError",(function(t){return function(e){return c(t,this,arguments)}})),d("RangeError",(function(t){return function(e){return c(t,this,arguments)}})),d("ReferenceError",(function(t){return function(e){return c(t,this,arguments)}})),d("SyntaxError",(function(t){return function(e){return c(t,this,arguments)}})),d("TypeError",(function(t){return function(e){return c(t,this,arguments)}})),d("URIError",(function(t){return function(e){return c(t,this,arguments)}})),l("CompileError",(function(t){return function(e){return c(t,this,arguments)}})),l("LinkError",(function(t){return function(e){return c(t,this,arguments)}})),l("RuntimeError",(function(t){return function(e){return c(t,this,arguments)}}))},e391:function(t,e,r){"use strict";var n=r("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},e5cb:function(t,e,r){"use strict";var n=r("d066"),s=r("1a2d"),c=r("9112"),o=r("3a9b"),a=r("d2bb"),i=r("e893"),u=r("aeb0"),d=r("7156"),l=r("e391"),g=r("ab36"),p=r("6f19"),b=r("83ab"),f=r("c430");t.exports=function(t,e,r,m){var h="stackTraceLimit",v=m?2:1,O=t.split("."),j=O[O.length-1],w=n.apply(null,O);if(w){var y=w.prototype;if(!f&&s(y,"cause")&&delete y.cause,!r)return w;var P=n("Error"),E=e((function(t,e){var r=l(m?e:t,void 0),n=m?new w(t):new w;return void 0!==r&&c(n,"message",r),p(n,E,n.stack,2),this&&o(y,this)&&d(n,this,E),arguments.length>v&&g(n,arguments[v]),n}));if(E.prototype=y,"Error"!==j?a?a(E,P):i(E,P,{name:!0}):b&&h in w&&(u(E,w,h),u(E,w,"prepareStackTrace")),i(E,w),!f)try{y.name!==j&&c(y,"name",j),y.constructor=E}catch(I){}return E}}},edd0:function(t,e,r){"use strict";var n=r("13d2"),s=r("9bf2");t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),s.f(t,e,r)}},f5df:function(t,e,r){"use strict";var n=r("00ee"),s=r("1626"),c=r("c6b6"),o=r("b622"),a=o("toStringTag"),i=Object,u="Arguments"===c(function(){return arguments}()),d=function(t,e){try{return t[e]}catch(r){}};t.exports=n?c:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=d(e=i(t),a))?r:u?c(e):"Object"===(n=c(e))&&s(e.callee)?"Arguments":n}}}]);
//# sourceMappingURL=chunk-3a995e2e.54e2b700.js.map