{"version":3,"sources":["webpack:///./src/views/ManagerSubPartNumberEdit.vue","webpack:///./src/views/ManagerSubPartNumberEdit.vue?31db","webpack:///./src/views/ManagerSubPartNumberEdit.vue?a87d"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_ManagerPartNumberForm","onAfterSubmit","$options","handleAfterSubmit","initial-part-number","$data","subPartNumber","is-processing","isProcessing","name","components","ManagerPartNumberForm","created","this","fetchSubPartNumber","$route","params","id","data","methods","partNumberId","status","statusText","managerAPI","subPartNumbers","getOneDetail","Error","isSubPartNumber","error","ToastBottom","fire","icon","title","formData","update","message","$router","push","__exports__","render"],"mappings":"yKACOA,MAAM,2C,gGAAXC,eAEM,MAFNC,EAEM,CADJC,eAA8HC,EAAA,CAAtGC,cAAcC,EAAAC,kBAAoBC,sBAAqBC,EAAAC,cAAgBC,gBAAeF,EAAAG,c,8HASnG,GACbC,KAAM,2BACNC,WAAY,CAAEC,8BACdC,UACEC,KAAKC,mBAAmBD,KAAKE,OAAOC,OAAOC,KAE7CC,OACE,MAAO,CACLZ,cAAe,GACfE,cAAc,IAGlBW,QAAS,CACP,yBAAyBC,GACvB,IACE,MAAM,KAAEF,EAAI,OAAEG,EAAM,WAAEC,SAAqBC,OAAWC,eAAeC,aAAaL,GAClF,GAAmB,OAAfE,GAAkC,MAAXD,EAAkB,MAAM,IAAIK,MACvD,MAAM,cAAEpB,GAAkBY,EAC1BL,KAAKP,cAAgBA,EACrBO,KAAKP,cAAcqB,iBAAkB,EACrC,MAAOC,GACPC,OAAYC,KAAK,CACfC,KAAM,QACNC,MAAO,kBAIb,wBAAwBC,GACtB,IACEpB,KAAKL,cAAe,EACpB,MAAM,KAAEU,EAAI,OAAEG,EAAM,WAAEC,SAAqBC,OAAWC,eAAeU,OAAOrB,KAAKE,OAAOC,OAAOC,GAAIgB,IAC7F,QAAEE,GAAYjB,EACpB,GAAmB,OAAfI,GAAkC,MAAXD,EAAkB,MAAM,IAAIK,MAAMS,GAAoB,eACjFtB,KAAKL,cAAe,EACpBK,KAAKuB,QAAQC,KAAK,CAAE5B,KAAM,yBAC1BoB,OAAYC,KAAK,CACfC,KAAM,UACNC,MAAOd,EAAKiB,UAEd,MAAOP,GACPC,OAAYC,KAAK,CACfC,KAAM,QACNC,MAAOJ,EAAMO,UAEftB,KAAKL,cAAe,M,iCChD5B,MAAM8B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/chunk-56b93044.fc299736.js","sourcesContent":["<template>\r\n  <div class=\"container container-border bg-dark mt-5\">\r\n    <ManagerPartNumberForm @after-submit=\"handleAfterSubmit\" :initial-part-number=\"subPartNumber\" :is-processing=\"isProcessing\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ManagerPartNumberForm from '../components/ManagerPartNumberForm.vue';\r\nimport managerAPI from '../apis/managers'\r\nimport { ToastBottom } from '../utils/helpers'\r\n\r\nexport default {\r\n  name: 'ManagerSubPartNumberEdit',\r\n  components: { ManagerPartNumberForm },\r\n  created() {\r\n    this.fetchSubPartNumber(this.$route.params.id);\r\n  },\r\n  data() {\r\n    return {\r\n      subPartNumber: {},\r\n      isProcessing: false\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchSubPartNumber(partNumberId) {\r\n      try {\r\n        const { data, status, statusText } = await managerAPI.subPartNumbers.getOneDetail(partNumberId)\r\n        if (statusText !== 'OK' && status !== 200) { throw new Error() }\r\n        const { subPartNumber } = data\r\n        this.subPartNumber = subPartNumber\r\n        this.subPartNumber.isSubPartNumber = true\r\n      } catch (error) {\r\n        ToastBottom.fire({\r\n          icon: 'error',\r\n          title: '載入錯誤，請稍後在試。'\r\n        })\r\n      }\r\n    },\r\n    async handleAfterSubmit(formData) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data, status, statusText } = await managerAPI.subPartNumbers.update(this.$route.params.id, formData)\r\n        const { message } = data\r\n        if (statusText !== 'OK' && status !== 200) { throw new Error(message ? message : '載入錯誤，請稍後在試。') }\r\n        this.isProcessing = false\r\n        this.$router.push({ name: 'manager-part-numbers' })\r\n        ToastBottom.fire({\r\n          icon: 'success',\r\n          title: data.message\r\n        })\r\n      } catch (error) {\r\n        ToastBottom.fire({\r\n          icon: 'error',\r\n          title: error.message\r\n        })\r\n        this.isProcessing = false\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container-border {\r\n  border: 5px solid rgb(97, 134, 190);\r\n  border-radius: 20px;\r\n}\r\n</style>","import { render } from \"./ManagerSubPartNumberEdit.vue?vue&type=template&id=316ff09c&scoped=true\"\nimport script from \"./ManagerSubPartNumberEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ManagerSubPartNumberEdit.vue?vue&type=script&lang=js\"\n\nimport \"./ManagerSubPartNumberEdit.vue?vue&type=style&index=0&id=316ff09c&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\inventory-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-316ff09c\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ManagerSubPartNumberEdit.vue?vue&type=style&index=0&id=316ff09c&scoped=true&lang=css\""],"sourceRoot":""}