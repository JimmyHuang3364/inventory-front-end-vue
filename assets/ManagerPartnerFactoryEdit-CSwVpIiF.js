import{_ as m,T as o,c as p,k as f,q as u,o as d}from"./index-DVMGO384.js";import{M as h}from"./ManagerPartnerFactoryForm--i1iuaov.js";import{m as n}from"./managers-BXsvmsWl.js";const g={name:"ManagerPartnerFactoryEdit",components:{ManagerPartnerFactoryForm:h},created(){const e=this.$route.params.id;this.fetchPartnerFactoryData(e)},data(){return{partnerFactory:{},isProcessing:!1}},methods:{async fetchPartnerFactoryData(e){try{const{data:r,status:t,statusText:a}=await n.partnerFactories.getOneDetail(e);if(a!=="OK"&&t!==200)throw new Error(r.message);if(r.status!=="success")throw new Error(r.message);this.partnerFactory=r.partnerFactory}catch(r){o.fire({icon:"error",title:r})}},async handleAfterSubmit(e){try{this.isProcessing=!0;const r=this.$route.params.id,{data:t,status:a,statusText:s}=await n.partnerFactories.update(r,e);if(s!=="OK"&&a!==200)throw new Error(t.message);if(t.status!=="success")throw new Error(t.message);this.isProcessing=!1,o.fire({icon:"success",title:t.message}),this.$router.push({name:"manager-partner-factories"})}catch(r){o.fire({icon:"error",title:r}),this.isProcessing=!1}}}},l={class:"container mt-5 bg-dark container-bprder"};function y(e,r,t,a,s,c){const i=u("ManagerPartnerFactoryForm");return d(),p("div",l,[f(i,{onAfterSubmit:c.handleAfterSubmit,"initial-partner-factory":s.partnerFactory,"is-processing":s.isProcessing},null,8,["onAfterSubmit","initial-partner-factory","is-processing"])])}const w=m(g,[["render",y],["__scopeId","data-v-8acfa1ff"]]);export{w as default};
