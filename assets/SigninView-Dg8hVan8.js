import{a as d,_ as m,T as a,c as u,b as t,w as i,v as l,d as p,o as c}from"./index-BMeqUuqK.js";const w={signIn({name:e,password:s}){return d.post("/signin",{name:e,password:s})}},b={data(){return{name:"",password:"",isProcessing:!1}},methods:{async handleSubmit(){try{if(!this.name||!this.password){a.fire({icon:"warning",title:"請填入 email 和 password"});return}this.isProcessing=!0;const e=await w.signIn({name:this.name,password:this.password}),{data:s}=e;if(s.status!=="success")throw new Error(s.message);localStorage.setItem("token",s.token),this.$store.commit("setCurrentUser",s.user),this.$router.push("/warehouse/home")}catch{this.password="",this.isProcessing=!1,a.fire({icon:"warning",title:"請確認您輸入了正確的帳號密碼"})}}}},f={class:"container mt-5 container-border bg-dark"},h={class:"form-label-group text-white"},g={class:"form-label-group text-white mt-4"},v=["disabled"];function x(e,s,P,S,o,n){return c(),u("div",f,[t("form",{onSubmit:s[2]||(s[2]=p((...r)=>n.handleSubmit&&n.handleSubmit(...r),["stop","prevent"])),class:"form-signin p-4 m-auto"},[s[5]||(s[5]=t("div",{class:"text-center mb-4"},[t("h1",{class:"h3 mb-3 font-weight-normal text-white"},"Sign In")],-1)),t("div",h,[s[3]||(s[3]=t("label",{for:"inputName"},"User",-1)),i(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o.name=r),type:"text",name:"name",class:"form-control",placeholder:"name",autofocus:"",autocomplete:"username"},null,512),[[l,o.name]])]),t("div",g,[s[4]||(s[4]=t("label",{for:"inputPassword"},"Password",-1)),i(t("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>o.password=r),type:"password",name:"password",class:"form-control",placeholder:"Password",autocomplete:"current-password"},null,512),[[l,o.password]])]),s[6]||(s[6]=t("br",null,null,-1)),t("button",{class:"btn btn-lg btn-success btn-block",type:"submit",disabled:o.isProcessing},"Submit",8,v)],32)])}const I=m(b,[["render",x],["__scopeId","data-v-d814f758"]]);export{I as default};
