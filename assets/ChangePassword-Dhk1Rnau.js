import{d as p,u as b,G as w,o as v,c as h,b as a,t as g,m as o,w as P,v as _,H as x,e as y,f as S,I as k,T as c,_ as C}from"./index-hUmWNnQV.js";const T={class:"container mt-5 bg-dark container-bprder pb-3"},q={class:"form-label-group text-white mt-4"},B={for:"inputPassword"},D=p({__name:"ChangePassword",setup(I){const r=b(),{currentUser:t}=w(r),i=S(),l=async d=>{try{const e=d.target,s=new FormData(e),f=t.value.id,{data:n,status:u,statusText:m}=await k.updatePassword(f,s);if(m!=="OK"&&u!==200)throw new Error(n.message);c.fire({icon:"success",title:n.message}),r.revokeAuthentication(),i.push({name:"sign-in"})}catch(e){c.fire({icon:"error",title:e})}};return(d,e)=>(v(),h("div",T,[e[2]||(e[2]=a("h1",{class:"text-white mt-3"},"變更密碼",-1)),a("form",{onSubmit:y(l,["stop","prevent"]),class:""},[a("div",q,[a("label",B,g(o(t).name),1),P(a("input",{type:"text",name:"name",class:"form-control bg-secondary","onUpdate:modelValue":e[0]||(e[0]=s=>o(t).name=s),readonly:"",required:""},null,512),[[_,o(t).name]])]),e[1]||(e[1]=x('<div class="form-label-group text-white mt-4" data-v-fbf2cdea><label for="inputPassword" data-v-fbf2cdea>原來密碼</label><input type="password" name="password" class="form-control" placeholder="Password" required data-v-fbf2cdea></div><div class="form-label-group text-white mt-4" data-v-fbf2cdea><label for="inputPassword" data-v-fbf2cdea>新的密碼</label><input type="password" name="newPassword" class="form-control" placeholder="New Password" required data-v-fbf2cdea></div><div class="form-label-group text-white mt-4" data-v-fbf2cdea><label for="inputPassword" data-v-fbf2cdea>確認新的密碼</label><input type="password" name="newPasswordCheck" class="form-control" placeholder="New Password Check" required data-v-fbf2cdea></div><br data-v-fbf2cdea><div class="d-flex justify-content-end" data-v-fbf2cdea><button type="submit" class="btn btn-primary" data-v-fbf2cdea>Submit</button></div>',5))],32)]))}}),U=C(D,[["__scopeId","data-v-fbf2cdea"]]);export{U as default};
