import{M as m}from"./ManagerPartNumberForm-BGrIPpTI.js";import{m as i}from"./managers-Be_iI1Ff.js";import{_ as c,T as o,c as b,z as f,D as p,o as d}from"./index-d9KIc4wf.js";const h={name:"ManagerSubPartNumberEdit",components:{ManagerPartNumberForm:m},created(){this.fetchSubPartNumber(this.$route.params.id)},data(){return{subPartNumber:{},isProcessing:!1}},methods:{async fetchSubPartNumber(e){try{const{data:r,status:s,statusText:a}=await i.subPartNumbers.getOneDetail(e);if(a!=="OK"&&s!==200)throw new Error;const{subPartNumber:t}=r;this.subPartNumber=t,this.subPartNumber.isSubPartNumber=!0}catch{o.fire({icon:"error",title:"載入錯誤，請稍後在試。"})}},async handleAfterSubmit(e){try{this.isProcessing=!0;const{data:r,status:s,statusText:a}=await i.subPartNumbers.update(this.$route.params.id,e),{message:t}=r;if(a!=="OK"&&s!==200)throw new Error(t||"載入錯誤，請稍後在試。");this.isProcessing=!1,this.$router.push({name:"manager-part-numbers"}),o.fire({icon:"success",title:r.message})}catch(r){o.fire({icon:"error",title:r.message}),this.isProcessing=!1}}}},P={class:"container container-border bg-dark mt-5"};function g(e,r,s,a,t,n){const u=p("ManagerPartNumberForm");return d(),b("div",P,[f(u,{onAfterSubmit:n.handleAfterSubmit,"initial-part-number":t.subPartNumber,"is-processing":t.isProcessing},null,8,["onAfterSubmit","initial-part-number","is-processing"])])}const S=c(h,[["render",g],["__scopeId","data-v-84a64967"]]);export{S as default};
